---
layout: post
title: <Reversing> 3. LF와 CRLF
date: 2024-12-26 12:30:23 +0900
category: Reversing
comments: true
---

## OS별 줄바꿈 차이

### LF(Line Feed)

리눅스의 경우 개행문자는 LF를 사용한다. 따라서, 바이트 단위로 파일을 확인할 경우, 문장의 마지막에는 0x0A가 붙게 된다.

### CRLF(Carriage Return + Line Feed)

윈도우의 경우 개행문자는 CRLF를 사용한다. 따라서, 바이트 단위로 파일을 확인할 경우, 문장의 마지막에는 0x0D0A가 붙게 된다.

### 문제점

얼마전에 윈도우 상의 XShell을 사용해서 라우터와 UART 통신을 진행하고, 통신을 통해 펌웨어를 Dump하고, 이를 리눅스로 옮겨서 분석을 진행했었다. 이 과정에서 자꾸 리눅스에서 파일이 의도와는 다르게 해석되어서, 몇 시간동안 골머리를 앓았는데, 나중에 바이트 값 비교로 하나하나 뜯어보니 저 LF와 CRLF의 차이 때문이었다.. 심지어 텍스트 뷰에서는 눈에 보이지도 않아서 직접 바이트값을 비교하지 않으면 발견조차 못하는.. 그런 블랙 아이스와도 같은 존재이다.

## 마치며

정말 사소해보이는 문제일지라도, OS를 왔다 갔다하는 상황에서는 결코 사소하지 않은 문제라고 생각한다. 단지 개행문자 하나로도 파일의 무결성이 완전히 깨질 수 있기 때문에, 앞으로도 이 부분은 계속 유념하고 주의해야겠다.