---
layout: post
title: <Python> 2. Windows 터미널에서의 자동완성 주의사항
date: 2024-12-26 12:31:23 +0900
category: Python
comments: true
---

## 경로 자동완성 기능을 주의하자

연구실에서 과제 도구 개발 중에 중요한 점 하나를 발견해서 포스팅으로 짧게 남기려고 한다. 

<br/>

드론 포렌식과 관련된 파이썬 기반의 도구인데, 드론 이미지 경로를 터미널의 argument로 입력받고 내부의 argparser에서 argument들을 파싱하는 과정에서,**띄어쓰기가 포함된 경로**의 경우 상황에 따라 경로가 제대로 인식되지 않아 오류가 발생하는 문제가 있었다. 이 문제로 디버깅을 진행해보니, 아래와 같이 경로가 인식되었다.

```
정상적일 경우의 경로 : C:\Test Test
오류가 발생할 때의 경로 : C:\Test Test"
```

띄어쓰기가 문제인건가 싶어서 파이참에서도 해보고, VSCode에서도 해보고, 직접 터미널에서도 해보고, 띄어쓰기 경로를 다양하게도 줘보았다. 그러나 마찬가지로 **어떤 때는 정상적으로 프로그램 경로가 인식되고, 어떤 때는 오류가 발생하는 경로로 인식**되었다. 그러다가 유심히 살펴보니, 오류가 발생할 때의 경로는 **따옴표가 그대로 남아있다**는 것을 발견하게 되었다. 나는 분명 따옴표를 넣은 적이 없는데.. 그러다가 Windows의 파워쉘에서 기본적으로 지원하는 경로 탭키 자동완성 기능에서 한가지 문제점을 발견하였다! 바로, **이미 존재하는 폴더의 이름에 띄어쓰기가 포함되어있을 경우, 경로에 따옴표를 붙이는 과정에서 마지막에 백슬래시가 붙는다**는 것이다.

```
C:\Tes
여기서 탭키를 누를 경우,
"C:\Test Test\"
```

컴퓨터공학 전공자라면 익숙한 상황일 것이다. 백슬래시의 용도는, 종종 특수문자 등을 있는 그대로 인식하게끔 하기 위해서도 사용된다는 것을! 결론적으로는 다음과 같다.

1. 띄어쓰기 경로가 문제가 아니었다.
2. 띄어쓰기가 경로에 존재할 경우, 하나의 경로로 인식하기 위해 파워쉘에서 양 끝에 따옴표를 붙인다.
3. 문제는 이미 해당 폴더가 존재하는 경우, 추가 경로 입력을 위한 것인지 파워쉘에서 마지막에 백슬래시를 한번 더 붙인다.
4. 이것이 파이썬의 argparser에게 그대로 전달되어서, 마치 argparser입장에서는 백슬래시 뒤의 따옴표가 입력으로 같이 들어온것처럼 인식된다.

## 마치며

사소한 문제이지만, 이 문제로 한동안 골머리를 앓아서 반드시 기록해둔다. 어쩐지, 터미널에서 직접 파이썬을 실행시킬 때만 오류가 생기고, 파이참과 같은 에디터 내에서 argument를 받으면 문제가 없더라..